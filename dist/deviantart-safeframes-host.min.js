/*! DeviantArt SafeFrame v0.2.1 */
/*! @generated */
!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=37)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];window.DA_DEBUG&&window.console&&console[t].apply(console,e)},s=function(){function t(){i(this,t)}return o(t,[{key:"log",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("log",e)}},{key:"warn",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",e)}},{key:"error",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",e)}},{key:"info",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("info",e)}}]),t}(),a=new s;window.logger=a,e.default=a},function(t,e,n){var i,o,r;!function(n,s){o=[],i=s,void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(0,function(){return function(t,e,n,i,o,r,s,a,u,f,l,h){return h=function(t,e){return new h.i(t,e)},h.i=function(i,o){n.push.apply(this,i?i.nodeType||i==t?[i]:""+i===i?/</.test(i)?((a=e.createElement(o||"q")).innerHTML=i,a.children):(o&&h(o)[0]||e).querySelectorAll(i):/f/.test(typeof i)?/c/.test(e.readyState)?i():h(e).on("DOMContentLoaded",i):i:n)},h.i[l="prototype"]=(h.extend=function(t){for(f=arguments,a=1;a<f.length;a++)if(l=f[a])for(u in l)t[u]=l[u];return t})(h.fn=h[l]=n,{on:function(t,e){return t=t.split(i),this.map(function(n){(i[a=t[0]+(n.b$=n.b$||++o)]=i[a]||[]).push([e,t[1]]),n.addEventListener(t[0],e)}),this},off:function(t,e){return t=t.split(i),l="removeEventListener",this.map(function(n){if(f=i[t[0]+n.b$],a=f&&f.length)for(;u=f[--a];)e&&e!=u[0]||t[1]&&t[1]!=u[1]||(n[l](t[0],u[0]),f.splice(a,1));else!t[1]&&n[l](t[0],e)}),this},is:function(t){return a=this[0],(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector).call(a,t)}}),h}(window,document,[],/\.(.+)/,0)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o.default},function(t,e,n){"use strict";function i(t){}function o(t){return null!==t&&!isNaN(+t)&&isFinite(t)}function r(){return Array.prototype.reduce.call(arguments,function(t,e){return o(e)||(e=Number.MIN_SAFE_INTEGER),t<e?e:t},Number.MIN_SAFE_INTEGER)}function s(){return Array.prototype.reduce.call(arguments,function(t,e){return o(e)||(e=Number.MAX_SAFE_INTEGER),t>e?e:t},Number.MAX_SAFE_INTEGER)}function a(t,e){var n=!1;return function(){var i=this,o=arguments;n||(n=!0,setTimeout(function(){n=!1,t.apply(i,o)},e||1))}}Object.defineProperty(e,"__esModule",{value:!0}),e.noop=i,e.isNumeric=o,e.max=r,e.min=s,e.throttle=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[];e.default=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n,o){i(this,t),this.data=e||{},this.privateData=o||{},this.privateKey=n}return o(t,[{key:"value",value:function(t,e){return void 0!==e&&e==this.privateKey?this.privateData[t]:this.data[t]}}]),t}();e.default=r,r.fromString=function(t,e){var n={};try{n=JSON.parse(t)}catch(t){}var i={};return n.hasOwnProperty(e)&&(i=n[e],delete n[e]),new r(n,e,i)}},,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=i(s),u=n(11),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),l=n(22),h=i(l),c=n(0),d=(i(c),n(2)),g=i(d),p=n(21),m=i(p),v=n(5),y=i(v),w=n(3),b=n(18),k=i(b),x=n(36),P=i(x),E=1,O={},_=function(){function t(e,n,i,r){o(this,t),this.id=E++,this.node=e,this.status=h.default.COLLAPSED,this.node.style.width=n+"px",this.node.style.height=i+"px",this.rect=f.getRectRelativeTo(this.node,this.node.offsetParent),this.collapse_rect=this.rect,r=r||{},this.onBeforePosMsg=r.onBeforePosMsg||function(){},this.onPosMsg=r.onPosMsg||function(){};var s=y.default.fromString(decodeURIComponent(String(e.getAttribute("name")||"").split("#").slice(1).join("#")),"y2QhhCMwySx5OVmqzIgH766Yl2CtiezJ"),u=s.value("conf")||{};if(this.features={"exp-ovr":u["exp-ovr"],"exp-push":u["exp-push"],"read-cookie":r.allowCookieReads&&u["read-cookie"],"write-cookie":r.allowCookieWrites&&u["write-cookie"]},this.messages=new g.default(e),this.messages.on("cookie",this.cookie.bind(this)).on("expand",this.expand.bind(this)).on("collapse",this.collapse.bind(this)).send("registered",{g:this.getGeomInfo(),status:this.status}),e&&e.offsetParent&&!O[e]){var l=f.getNodeOverflow(e.offsetParent);if(l.xscroll||l.yscroll){var c=(0,w.throttle)(this.scroll.bind(this),1e3);(0,a.default)(e.offsetParent).on("scroll",c).on("mousedown",c),O[e]=c}}e.setAttribute("name",["da","safeframe",this.id].join("-"))}return r(t,[{key:"nuke",value:function(){this.messages.send("unload").nuke();var t=O[this.node];t&&((0,a.default)(this.node.offsetParent).off("scroll",t).off("mousedown",t),delete O[this.node]),this.node.parentNode.removeChild(this.node)}},{key:"getGeomInfo",value:function(){return k.default.get(this.node)}},{key:"setNodeRect",value:function(t){this.node.style.top=t.top+"px",this.node.style.left=t.left+"px",this.node.style.width=t.width+"px",this.node.style.height=t.height+"px"}},{key:"supports",value:function(t){return t?this.features[t]||!1:this.features}},{key:"cookie",value:function(t){if((this.supports("write-cookie")||this.supports("read-cookie"))&&this.onBeforePosMsg(t)!==!0&&(this.onPosMsg(t),t.data.name)){if(void 0===t.data.value&&this.supports("read-cookie"))return this.messages.send("cookie",{name:t.data.name,value:P.default.get(t.data.name)});if(this.supports("write-cookie"))return P.default.set(t.data.name,t.data.value),this.messages.send("cookie",{name:t.data.name,value:P.default.get(t.data.name)})}}},{key:"expand",value:function(t){if(this.onBeforePosMsg(t)!==!0&&(this.onPosMsg(t),this.status!=h.default.EXPANDED&&this.status!=h.default.EXPANDING)){this.status=h.default.EXPANDING,this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status}),this.rect=f.getRectRelativeTo(this.node,this.node.offsetParent),this.collapse_rect=new m.default(this.rect);var e=t.data||{};this.rect.top-=e.t||0,this.rect.left-=e.l||0,this.rect.right+=e.r||0,this.rect.bottom+=e.b||0,this.rect.width=this.rect.right-this.rect.left,this.rect.height=this.rect.bottom-this.rect.top,this.node.style.position="absolute",this.setNodeRect(this.rect),this.status=h.default.EXPANDED,this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})}}},{key:"collapse",value:function(t){this.onBeforePosMsg(t)!==!0&&(this.onPosMsg(t),this.status!=h.default.EXPANDED&&this.status!=h.default.EXPANDING||(this.status=h.default.COLLAPSING,this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status}),this.rect=this.collapse_rect,this.node.style.position="initial",this.setNodeRect(this.rect),this.status=h.default.COLLAPSED,this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})))}},{key:"resize",value:function(t){this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})}},{key:"mouseup",value:function(t){this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})}},{key:"touchend",value:function(t){this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})}},{key:"scroll",value:function(t){this.messages.send("geom.update",{g:this.getGeomInfo(),status:this.status})}},{key:"blur",value:function(t){this.messages.send("blur",{g:this.getGeomInfo(),status:this.status})}},{key:"focus",value:function(t){this.messages.send("focus",{g:this.getGeomInfo(),status:this.status})}},{key:"unload",value:function(t){this.messages.send("unload",t)}}]),t}();e.default=_},function(t,e,n){"use strict";function i(t){return t&&t.parentNode}function o(t,e){if(!t)return null;var n=window.document.defaultView.getComputedStyle(t);return e&&n.hasOwnProperty(e)?n[e]:n}function r(t){var e=void 0;if(t&&t.style){var n=t.style.display;t.style.display="block",e=t.getBoundingClientRect(),t.style.display=n,e=new w.default(e);var i=a();e.left+=i.x,e.right+=i.x,e.top+=i.y,e.bottom+=i.y}else e=new w.default(0);return e}function s(t,e){var n=r(t);if(e){var i=r(e);n.top=n.top-i.top+e.scrollTop,n.bottom=n.top+n.height+e.scrollTop,n.left=n.left-i.left+e.scrollLeft,n.right=n.left+n.width+e.scrollLeft}return n}function a(){return{x:pageXOffset,y:pageYOffset}}function u(){return new w.default(window.pageYOffset,window.pageXOffset+window.innerWidth,window.pageYOffset+window.innerHeight,window.pageXOffset,window.innerWidth,window.innerHeight)}function f(t){try{return 9==t.nodeType?t:t.ownerDocument}catch(t){}}function l(t){var e=f(t),n=void 0;try{e&&(n=e.parentWindow||e.defaultView||window)}catch(t){n=window}return n}function h(t){var e=(l(t),new w.default(0,window.innerWidth,window.innerHeight,0,window.innerWidth,window.innerHeight)),n=a();return e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y,e}function c(t){var e=f(t);if(e)return e.documentElement||e.body}function d(t){var e=c(t)||{},n=new w.default;return n.right=n.width=e.scrollWidth||0,n.bottom=n.height=e.scrollHeight||0,n}function g(t,e){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function p(t){var e=o(t);return"inline-block"==e.display||"none"!=e.float||"absolute"==e.position||"fixed"==e.position||"auto"!=e.width||"auto"!=e.height}function m(t){var e=o(t),n={};return"scroll"==e.overflowX||"auto"==e.overflowX?n.xscroll=t.offsetWidth-t.clientWidth:n.xscroll=0,"scroll"==e.overflowY||"auto"==e.overflowY?n.yscroll=t.offsetHeight-t.clientHeight:n.yscroll=0,n.xhidden="hidden"==e.overflowX,n.yhidden="hidden"==e.overflowY,n}function v(t){var e=o(t);return!!(e.clip&&"auto"!=e.clip||e.clipPath&&"none"!=e.clipPath)}Object.defineProperty(e,"__esModule",{value:!0}),e.getParentNode=i,e.getNodeStyle=o,e.getRect=r,e.getRectRelativeTo=s,e.getScroll=a,e.getViewportRect=u,e.getDocument=f,e.getWindow=l,e.getWindowRect=h,e.getRootNode=c,e.getRootRect=d,e.isParentOf=g,e.hasLayout=p,e.getNodeOverflow=m,e.isNodeClipped=v;var y=n(21),w=function(t){return t&&t.__esModule?t:{default:t}}(y)},,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(11),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),a=n(3),u=function(){function t(e){i(this,t),this.node=e,this.document=s.getDocument(e),this.window=s.getWindow(e),this.root=s.getRootNode(e),this.ref=this.getRefNode(e.parentNode)}return o(t,[{key:"getRefNode",value:function(t){for(;t&&1==t.nodeType;){var e=s.getNodeStyle(t);if(s.hasLayout(t)||"block"==e.display||"none"!=e.clear){var n=s.getNodeOverflow(t);if(n.xscroll||n.yscroll||n.xhidden||n.yhidden)return t;if(s.isNodeClipped(t))return t}t=t.parentNode}return this.root}},{key:"getNodesOver",value:function(t,e){e=e||1;var n=[],i=s.getRect(this.node),o=s.getRect(this.ref),r=s.getViewportRect(this.node);if(!document.elementFromPoint)return n;for(var u={top:(0,a.max)(i.top,o.top)-r.top,right:(0,a.min)(i.right,o.right)-r.left,bottom:(0,a.min)(i.bottom,o.bottom)-r.top,left:(0,a.max)(i.left,o.left)-r.left},f=(u.right-u.left)/10,l=(u.bottom-u.top)/10,h=u.left;h<u.right;h+=f)for(var c=u.top;c<u.bottom;c+=l){for(var d=document.elementFromPoint(h,c);d&&1==d.nodeType;){var g=s.getNodeStyle(d);if(s.hasLayout(d)||"block"==g.display||"none"!=g.clear)break;d=d.parentNode}d&&1==d.nodeType&&d!=this.node&&d!=this.root&&!s.isParentOf(d,this.node)&&(n.push(d),n.length>=e&&(h=u.right,c=u.bottom))}return n}},{key:"getWindowGeom",value:function(){var t=this.window.innerHeight||0,e=this.window.innerWidth||0,n=this.window.screenY||this.window.screenTop||0,i=n+t,o=this.window.screenX||this.window.screenLeft||0;return{t:n,r:o+e,b:i,l:o,w:e,h:t}}},{key:"getSelfGeom",value:function(){var t=s.getRect(this.node),e=s.getRect(this.ref),n=s.getNodeStyle(this.node),i=s.getWindowRect(this.node),o=t.width,r=t.height;this.ref!=this.root&&(o=(0,a.max)(0,(0,a.min)(t.right,e.right)-(0,a.max)(t.left,e.left)),r=(0,a.max)(0,(0,a.min)(t.bottom,e.bottom)-(0,a.max)(t.top,e.top)));var u=(0,a.max)(0,(0,a.min)(t.right,i.right)-(0,a.max)(t.left,i.left)),f=(0,a.max)(0,(0,a.min)(t.bottom,i.bottom)-(0,a.max)(t.top,i.top)),l=(0,a.min)(o,u),h=(0,a.min)(r,f),c=t.width?l/t.width:0,d=t.height?h/t.height:0,g=l*h/(t.width*t.height),p=this.getNodesOver(this.node,1);if(p.length){var m=s.getRect(p[0]),v=(0,a.max)(0,(0,a.min)(m.right,t.right)-(0,a.max)(m.left,t.left)),y=(0,a.max)(0,(0,a.min)(m.bottom,t.bottom)-(0,a.max)(m.top,t.top));g=(0,a.max)(0,(l*h-v*y)/(t.width*t.height))}return{t:t.top,r:t.right,b:t.bottom,l:t.left,z:n.zIndex,w:t.width,h:t.height,xiv:1==c?"1":Number(c).toFixed(2),yiv:1==d?"1":Number(d).toFixed(2),iv:1==g?"1":Number(g).toFixed(2)}}},{key:"getExpandGeom",value:function(){var t=s.getRect(this.ref),e=s.getRect(this.node),n=s.getWindowRect(this.node),i={top:(0,a.max)(t.top,n.top),right:(0,a.min)(t.right,n.right),bottom:(0,a.min)(t.bottom,n.bottom),left:(0,a.max)(t.left,n.left)},o=s.getNodeOverflow(this.ref);return{t:(0,a.max)(0,e.top-i.top),r:(0,a.max)(0,i.right-e.right),b:(0,a.max)(0,i.bottom-e.bottom),l:(0,a.max)(0,e.left-i.left),xs:!!o.yscroll,yx:!!o.xscroll}}},{key:"getGeom",value:function(){return{win:this.getWindowGeom(),self:this.getSelfGeom(),exp:this.getExpandGeom()}}}]),t}(),f={get:function(t){return new u(t).getGeom()}};e.default=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=1,s=function(){function t(e){i(this,t),this.id=r++,this.ts=+new Date,this.type=e.type,this.data=e.data,this.originalEvent=e.originalEvent}return o(t,[{key:"stringify",value:function(){return JSON.stringify({id:this.id,ts:this.ts,type:this.type,namespace:"dasf",data:this.data})}}]),t}();s.fromEvent=function(t){var e=void 0;try{e=JSON.parse(t&&t.data)}catch(t){}return e&&e.type&&e.data&&"dasf"===e.namespace?(e.originalEvent=t,new s(e)):null},e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=i(s),u=n(19),f=i(u),l=n(0),h=(i(l),new WeakMap),c=1,d=function(){function t(e){o(this,t),this.id=c++,h.set(this,{listeners:{}}),this.mount(e)}return r(t,[{key:"trigger",value:function(t,e){return(h.get(this).listeners[t]||[]).filter(function(t){t(e)}),this}},{key:"on",value:function(t,e,n){for(var i=h.get(this).listeners,o=String(t||"").split(" ");o.length;){var r=o.pop();i[r]=i[r]||[],i[r][n?"unshift":"push"](e)}return this}},{key:"off",value:function(t,e){for(var n=h.get(this).listeners,i=String(t||"").split(" ");i.length;){var o=i.pop();n[o]=(n[o]||[]).filter(filterCallbacks)}return this}},{key:"handle",value:function(t){if(!this.win||this.win===t.source){var e=f.default.fromEvent(t);if(e)return this.trigger(e.type,e),this}}},{key:"send",value:function(t,e){var n=new f.default({type:t,data:e||{},originalEvent:{source:window}});return(this.win||window.top).postMessage(n.stringify(),"*"),this}},{key:"mount",value:function(t){return this.nuke(),this.win=t&&t.contentWindow,(0,a.default)(window).on("message",this.handle.bind(this)),this}},{key:"nuke",value:function(){return(0,a.default)(window).off("message",this.handle.bind(this)),h.get(this).listeners={},this}}]),t}();e.default=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),s=function(){function t(e,n,o,s,a,u){if(i(this,t),1==arguments.length&&!(0,r.isNumeric)(arguments[0]))return Array.isArray(arguments[0])?this.fromArray(arguments[0]):this.fromObject(arguments[0]);this.fromArray(arguments)}return o(t,[{key:"fromArray",value:function(t){this.reset(),t.length>=6?(this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3],this.width=t[4],this.height=t[5]):t.length>=4?(this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]):3==t.length?(this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=0):2==t.length?(this.top=t[0],this.right=t[1],this.bottom=t[0],this.left=t[1]):(this.top=t[0],this.right=t[0],this.bottom=t[0],this.left=t[0]),this.update()}},{key:"fromObject",value:function(t){return this.fromArray([t.top,t.right,t.bottom,t.left,t.width,t.height])}},{key:"update",value:function(){this.width||(this.width=this.right-this.left),this.height||(this.height=this.bottom-this.top)}},{key:"reset",value:function(t){t=t||0,this.top=t,this.right=t,this.bottom=t,this.left=t,this.width=t,this.height=t}},{key:"getArea",value:function(){return(this.right-this.left)*(this.bottom-this.top)}}]),t}();e.default=s,s.getOverlapRect=function(t,e){var n=(0,r.max)(t.left,e.left),i=(0,r.min)(t.left+t.width,e.left+e.width),o=(0,r.max)(t.top,e.top),a=(0,r.min)(t.top+t.height,e.top+e.height);return i>=n&&a>=o&&new s(o,i,a,n,i-n,a-o)},s.getOverlapArea=function(t,e){return(0,r.max)(0,(0,r.min)(t.right,e.right)-(0,r.max)(t.left,e.left))*(0,r.max)(0,(0,r.min)(t.bottom,e.bottom)-(0,r.max)(t.top,e.top))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={READY:"ready",LOADING:"loading",EXPANDING:"expanding",EXPANDED:"expanded",COLLAPSING:"collapsing",COLLAPSED:"collapsed",ERROR:"error"};e.default=i},,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){i(this,t),e=e||{},this.ver="1-1-0",this.specVersion="1.1",this.debug=!!e.debug,this.auto=!0,this.allowCookieReads=e["read-cookie"]||!1,this.allowCookieWrites=e["write-cookie"]||!1,this.onBeforePosMsg=e.onBeforePosMsg||!1,this.onPosMsg=e.onPosMsg||!1,this.renderFile=e.renderFile||"",this.hostFile=e.hostFile||"",this.onEndPosRender=e.onEndPosRender||!1,this.onFailure=e.onFailure||!1,this.onStartPosRender=e.onStartPosRender||!1,this.onSuccess=e.onSuccess||!1};e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(38),a=i(s),u=n(10),f=(i(u),n(0)),l=(i(f),function(){function t(){o(this,t),this.registry=new a.default,this.errors=[]}return r(t,[{key:"register",value:function(t){return this.registry.register(t)}},{key:"nuke",value:function(t){this.registry.nuke(t)}},{key:"status",value:function(t){var e={};return this.registry.each(function(t){e[t.id]=t.status}),e}}]),t}());e.default=l},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={get:function(t){var e=t+"=",n=null;return document.cookie.split(";").some(function(t){if(t=t.trim(),0===t.indexOf(e)){n=decodeURIComponent(t.substring(e.length,t.length));try{n=JSON.parse(n)}catch(t){return}return"undefined"===n&&(n=void 0),!0}}),n},set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=new Date,u="";n&&(a.setTime(a.getTime()+24*n*60*60*1e3),u="expires="+a.toUTCString()),"object"===(void 0===e?"undefined":i(e))&&(e=JSON.stringify(e));var f=t+"="+encodeURIComponent(e);s&&(s="secure"),r&&(r="domain="+encodeURIComponent(r)),o="path="+o,document.cookie=[f,u,s,r,o].filter(function(t){return!!t}).join("; ")},remove:function(t){o.set(t,"",-1)},isEnabled:function(){return!!navigator.cookieEnabled||(document.cookie="testcookie",document.cookie.indexOf("testcookie")!=-1)}};e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=i(s),u=n(32),f=i(u),l=n(10),h=i(l),c=n(2),d=i(c),g=n(0),p=i(g),m=n(31),v=i(m),y=n(5),w=i(y),b=n(18),k=(i(b),n(11)),x=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t,e}(k),n(4)),P=i(x),E=n(3),O=function(){function t(e){var n=this;o(this,t),this.config=new v.default(e),this.host=new f.default(this.config),this.messages=new d.default,this.messages.on("register",this.register.bind(this)),this.triggerAdEvents=function(t){n.host.registry.each(function(e){e[t.type]&&e[t.type].call(e,t)})},this.triggerAdEventsThrottled=(0,E.throttle)(this.triggerAdEvents,1e3),(0,a.default)(window).on("mouseup.safeframe",this.triggerAdEventsThrottled).on("touchend.safeframe",this.triggerAdEventsThrottled).on("scroll.safeframe",this.triggerAdEventsThrottled).on("resize.safeframe",this.triggerAdEventsThrottled).on("blur.safeframe",this.triggerAdEvents).on("focus.safeframe",this.triggerAdEvents).on("unload.safeframe",this.triggerAdEvents),p.default.log("DeviantArtSafeFramesHost initialized"),window.$sf=this.api()}return r(t,[{key:"register",value:function(t){if(t&&t.originalEvent)for(var e=document.getElementsByTagName("iframe"),n=0;n<e.length;n++){var i=e[n];if(i.contentWindow===t.originalEvent.source){var o=new h.default(i,t.data.w,t.data.h,this.config);return p.default.log("Creating new SafeFrame",o),void this.host.registry.register(o)}}P.default.push(new Error("Could not find the iframe who sent the 'register' message"))}},{key:"api",value:function t(){var e=this,t={info:{errs:this.host.registry.errors,list:this.host.registry.ads},host:{Config:v.default,PosMeta:w.default,PosConfig:null,Position:null,conf:this.config,nuke:function(t){return e.host.registry.nuke(t)},get:function(t){return e.host.registry.get(t)}}};return Object.freeze(t),t}}]),t}();window.DeviantArtSafeFramesHost=O},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=(i(s),n(0)),u=i(a),f=n(4),l=i(f),h=n(10),c=i(h),d=function(){function t(){o(this,t),this.ads=[],this.errors=l.default}return r(t,[{key:"register",value:function(t){t instanceof c.default||u.default.error("Ad must be an instance of ads.safeframe.iab.Ad",t),this.ads.findIndex(function(e){return e==t.id})>-1&&u.default.warn("Ad with the specified id already exists.",t.id),this.ads.push(t)}},{key:"nuke",value:function(t){if(void 0!==t){var e=this.ads.findIndex(function(e){return t==e.id});return void(e>-1?(this.ads[e].nuke(),this.ads.splice(e,1)):this.errors.push(new Error("Could not nuke a safeframe. The safeframe with the supplied id could not be found.",{id:t})))}for(;this.ads.length;){this.ads.pop().nuke()}}},{key:"get",value:function(t){var e=this.ads.find(function(e){return e.id==t});return e||this.errors.push(new Error("Could not get a safeframe that has the supplied id.",{id:t})),e}},{key:"each",value:function(t){this.ads.forEach(t)}}]),t}();e.default=d}]);